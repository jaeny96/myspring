<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.day.dto.CustomerMapper">
	<!-- <select id="insert" parameterType="hashmap"> -->
	<select id="insert" parameterType="com.day.dto.Customer">
		INSERT INTO
		customer(id,pwd,name,buildingno,enabled)
		VALUES
		(#{id},#{pwd},#{name},#{buildingno},1)
	</select>
<!-- 	<select id="update" parameterType="com.day.dto.Customer"> -->
<!-- 		UPDATE customer SET enabled = -->
<!-- 		#{enabled} WHERE id=#{id} -->
<!-- 	</select> -->
	<select id="update" parameterType="customer">
		UPDATE customer
		<set>
			<if test="enabled>-1">enabled=#{enabled},</if>
			<if test="pwd!=null and pwd!='' ">pwd=#{pwd},</if>
			<if test="name!=null and name!='' ">name=#{name},</if>
			<if test="buildingno!=null and buildingno!='' ">buildingno=#{buildingno},</if>
		</set>
		WHERE id=#{id}
	</select>
	<select id ="delete" parameterType="string">
		DELETE FROM customer WHERE id =#{id}
	</select>
</mapper>